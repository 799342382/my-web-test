<!DOCTYPE html>

<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1, maximum-scale=1" name="viewport"/>
<meta content="#1e40af" name="theme-color"/>
<title>AI 工具平台 · 官方专业版（分阶级权限）</title>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800&amp;display=swap" rel="stylesheet"/>
<style>
  :root{
    --brand:#2563eb;--brand2:#1e40af;--ok:#10b981;--muted:#64748b;--bg:#f8fafc;--panel:#fff;--text:#0f172a;--border:#e5e7eb;
    --r:16px;--shadow:0 10px 30px rgba(15,23,42,.08);--shadow2:0 16px 50px rgba(15,23,42,.12);
    --safe-bottom: env(safe-area-inset-bottom);
  }
  *{box-sizing:border-box;margin:0;padding:0;-webkit-tap-highlight-color:transparent}
  html,body{height:100%}
  body{font-family:Inter,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Noto Sans SC',Arial,sans-serif;background:var(--bg);color:var(--text)}
  a{color:inherit}
  /* 顶部品牌条 */
  .brand-bar{position:sticky;top:0;z-index:999;background:linear-gradient(90deg,var(--brand),var(--brand2));color:#fff;border-bottom:1px solid #1f2a5a}
  .brand-inner{max-width:1200px;margin:0 auto;padding:12px 14px;display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  .brand-left{display:flex;gap:10px;align-items:center;min-width:240px;flex:1}
  .logo{width:34px;height:34px;border-radius:10px;background:#ffffff1a;border:1px solid #ffffff33;display:grid;place-items:center;font-weight:800;flex:0 0 auto}
  .title{font-weight:800;letter-spacing:.3px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .level{background:#fff;color:var(--brand2);padding:6px 10px;border-radius:999px;font-weight:800;box-shadow:0 6px 20px rgba(255,255,255,.25)}
  .acct{display:flex;gap:8px;align-items:center;flex:1;min-width:260px}
  .acct input{flex:1;min-width:0;height:38px;border-radius:10px;border:1px solid #ffffff66;background:#fff;color:#0f172a;padding:0 12px;outline:none}
  .acct button{height:38px;padding:0 12px;border:none;border-radius:10px;background:#fff;color:var(--brand2);font-weight:800;cursor:pointer}
  /* 容器 */
  .container{max-width:1200px;margin:14px auto 0;padding:0 14px 160px}
  .hero{display:grid;grid-template-columns:1fr;gap:14px}
  .card{background:var(--panel);border:1px solid var(--border);border-radius:var(--r);box-shadow:var(--shadow);padding:14px}
  .hero h1{font-size:24px;line-height:1.28}
  .hero p{color:var(--muted);margin-top:6px}
  .stats{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:10px}
  .stat{border:1px solid var(--border);border-radius:12px;padding:10px;background:#fff}
  .num{font-weight:800;font-size:18px;background:linear-gradient(90deg,var(--brand),var(--brand2));-webkit-background-clip:text;background-clip:text;color:transparent}
  .lab{font-size:12px;color:var(--muted);margin-top:2px}
  .search{display:flex;gap:10px}
  .search input{flex:1;border:1px solid var(--border);border-radius:12px;padding:12px 14px}
  .search button{border:none;border-radius:12px;padding:12px 16px;font-weight:800;color:#fff;background:linear-gradient(90deg,var(--brand),var(--brand2));box-shadow:0 10px 24px rgba(37,99,235,.25);cursor:pointer}
  .section{margin-top:18px}
  .head{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
  .h-title{font-weight:800;font-size:17px}
  .h-note{font-size:12px;color:var(--muted)}
  .grid{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
  .tile{background:#fff;border:1px solid var(--border);border-radius:14px;min-height:74px;display:flex;align-items:center;justify-content:center;text-decoration:none;color:inherit;font-weight:700;box-shadow:var(--shadow);transition:.2s;position:relative;padding:10px;text-align:center;line-height:1.2}
  .tile:hover{transform:translateY(-2px);box-shadow:var(--shadow2);border-color:#dbeafe}
  .panel{background:#fff;border:1px solid var(--border);border-radius:var(--r);box-shadow:var(--shadow);padding:12px}
  .resource-list{list-style:none;display:flex;flex-direction:column;gap:8px}
  .res{background:#fff;border:1px solid var(--border);border-radius:14px;padding:12px;box-shadow:var(--shadow);transition:.2s;position:relative}
  .res:hover{transform:translateY(-2px);box-shadow:var(--shadow2);border-color:#dbeafe}
  .res a{color:var(--brand2);font-weight:800;text-decoration:none;word-break:break-all}
  /* 底部导航 */
  .nav{position:fixed;left:50%;transform:translateX(-50%);bottom:calc(12px + var(--safe-bottom));z-index:998;background:#fff;border:1px solid var(--border);border-radius:18px;padding:8px;display:flex;gap:6px;width:min(96%,560px);box-shadow:var(--shadow2)}
  .nav a{flex:1;text-align:center;padding:10px 6px;border-radius:12px;text-decoration:none;color:#334155;font-weight:800}
  .nav a.cur{background:linear-gradient(90deg,#e0f2fe,#dbeafe);color:#1e3a8a}
  /* 分阶级标签（保持原逻辑） */
  [data-tier]::after{content:attr(data-tier-label);position:absolute;right:10px;top:8px;font-size:10px;font-weight:800;color:#fff;padding:2px 6px;border-radius:999px}
  [data-tier="angel"]::after{background:#22c55e}
  [data-tier="devil"]::after{background:#0ea5e9}
  .locked{position:relative;overflow:hidden;cursor:not-allowed}
  .locked::before{content:"🔒";position:absolute;left:10px;top:8px;font-size:18px;opacity:.85;pointer-events:none}
  .locked a{pointer-events:none}
  .toast {
  position: fixed;
  top: 24px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(30, 41, 59, 0.92);
  color: #fff;
  padding: 12px 20px;
  border-radius: 12px;
  font-weight: 700;
  font-size: 15px;
  text-align: center;
  max-width: 80%;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
  z-index: 9999;
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.25s ease, transform 0.25s ease;
  word-break: break-word;
}
.toast.show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}
  @keyframes fade3{0%{opacity:0;transform:translate(-50%,10px)}10%{opacity:1;transform:translate(-50%,0)}90%{opacity:1}100%{opacity:0;transform:translate(-50%,10px)}}
  /* 平板 */
  @media(max-width:1024px){
    .grid{grid-template-columns:repeat(3,1fr)}
    .hero{grid-template-columns:1fr}
  }
  /* 手机：核心体验优化 */
  @media(max-width:640px){
    .brand-inner{gap:8px}
    .brand-left{flex:1 1 100%}
    .acct{flex:1 1 100%}
    .title{font-size:15px}
    .level{font-size:12px;padding:5px 8px}
    .hero h1{font-size:20px}
    .grid{grid-template-columns:repeat(2,1fr)} /* 2列卡片，更节省空间 */
    .tile{min-height:66px;font-size:14px;padding:10px 8px}
    .nav a{padding:10px 4px;font-size:13px}
  }
  /* 极小屏（如 320px）回退为 1 列，避免拥挤 */
  @media(max-width:360px){
    .grid{grid-template-columns:1fr}
    .tile{min-height:60px}
  }

html{scroll-padding-bottom:160px}
@media(max-width:640px){.container{padding-bottom:180px}html{scroll-padding-bottom:180px}}

/* ===== 防盗：基础可用性不影响的前端保护 ===== */
.noselect, .resource-list, .grid { user-select: none; -webkit-user-select: none; -ms-user-select: none; }
.protect-blur { filter: blur(6px); pointer-events: none; }
.protect-overlay{position:fixed;inset:0;pointer-events:none;background-repeat:repeat;opacity:.12;z-index:997}
/* 锁定小锁标记仍保留 */
.locked::before{content:"🔒";position:absolute;left:10px;top:8px;font-size:18px;opacity:.85;pointer-events:none}
/* 让 tile / res 都是整块可点击的手型 */
.tile, .res { cursor: pointer; }

/* 账号等级一行显示，不换行 */
.account-level{white-space:nowrap; display:flex; align-items:center; gap:6px}
@media(max-width:640px){
  .account-level{font-size:14px}
}

/* 我的页：单卡时铺满一列 */
section#mine .grid{grid-template-columns:1fr}


.toast {
  position: fixed;
  top: 20px !important;
  bottom: auto !important;
  left: 50%;
  transform: translateX(-50%);
  z-index: 9999;
}
</style>
<meta content="frame-ancestors 'none'; upgrade-insecure-requests; form-action 'self'" http-equiv="Content-Security-Policy"/><meta content="noindex,noarchive,nosnippet,noimageindex" name="robots"/><meta content="no-referrer" name="referrer"/></head>
<body>
<!-- 顶部品牌条 -->
<div class="brand-bar">
<div class="brand-inner">
<div class="brand-left">
<div class="logo">AI</div>
<div class="title">AI 工具平台 · 官方专业版</div>
<div class="level" id="lv">未登录（默认天使）</div>
</div>
<div class="acct">
<input id="pwd" placeholder="输入口令（天使账号默认，无需输入）" type="password"/>
<button id="login">登录</button>
<button id="logout" style="display:none;">退出</button>
</div>
</div>
</div>
<div class="container">
<!-- 顶部引导 -->
<section class="hero">
<div class="card">
<h1>官方级体验 · 分阶级权限 · 稳定入口</h1>
<p>天使 → 恶魔，等级越高可用能力越多；未授权条目对低等级可见但上锁。</p>
<div class="stats">
<div class="stat"><div class="num">100+</div><div class="lab">精选工具</div></div>
<div class="stat"><div class="num">24/7</div><div class="lab">持续更新</div></div>
<div class="stat"><div class="num">∞</div><div class="lab">场景扩展</div></div>
</div>
</div>
</section>
<!-- 首页核心入口 -->
<section class="section" id="home" role="tabpanel">
<div class="head">
<div class="h-title">核心入口</div><div class="h-note">高频常用 · 官方可靠</div>
</div>
<div class="grid"><a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UZAk_I_q0Y91kCWkw7b47nygTLnujoDc=" href="#">软件聚合大全</a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2Obwg4JKThMN1vC20w7b47nygTLnujoDfDaQxuJKfkZNVoX2h19us23z1daXKj5GeIP148I6ezZIlxfnhW9fcTrnkFZDaH5neuHhlkK-eXaskeCHhR-_cX1Hl9GzaAl3epaxkcK-fqEMkZCXgq8vdq1Hl5ZDb7kHfUag==" href="#">B站付费合集 </a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMsXTM9oLM7iCkSPnyv_SHDbUsPWJGRH4UoWCRqobwbrgtvHkqMthPTLEs5LqTmIoh_UDRgtv0ijShUYDbwlCGEPU44f6u8Od5rDmsg9eBk3WURZCTz4mTYagRuK_DmZt55Dhs2h-d3rmUZH1Dnl2fJHgx4K4T3F9R5fWw2--Z3qWoZZVbnk2fJGQl4K_f3E9R5eWQ2-uF3rWQZGCvnkxTJHnl4VvX3E9R5BB81srMgiTJIDXK2um_Jbnoue6OgN4A1UjYh9eBk32sOayL7_2vbbQxrJ_TqYdRuCGkh" href="#">幼小衔接课程</a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2PZVk4IfvrMI8-BGkw7b47nygTLnujoDc=" href="#">图书馆资源</a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" href="https://pan.quark.cn/s/8b8fde9f9213#/list/share" target="_blank">李一舟合集</a>
</div>
<div class="global-declare-tip" style="margin:14px 0 6px 0;color:#64748b;font-size:12px;line-height:1.6;text-align:center;">声明：本平台仅供内部学习与交流使用，严禁外传或用于任何商业用途。违者必究。</div></section>
<!-- 平台区 -->
<section class="section" hidden="" id="videos" role="tabpanel">
<div class="head"><div class="h-title">创作常用入口</div><div class="h-note">剪辑/分发常用四件套</div></div>
<div class="grid" style="margin-bottom:12px">
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMvUjxjo7wrwj9TMDy4ug==" href="#">万能链接解析下载</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcM_VDxn7L0iiTJdND2hvT8=" href="#">ChatGPT</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcM2VTB2rLV8hjVdM2qrvDXCP1MwPA==" href="#">即梦 AI 绘画</a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMrSyo9u70nmCleOD2hvT_D" href="#">YouTube</a>
</div>
<div class="head"><div class="h-title">学习平台</div><div class="h-note">系统学习与提升（已公开：天使）</div></div>
<div class="grid" style="margin-bottom:12px">
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMzTDh97ONk33JfMn4=" href="#">网易公开课</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9q7E9mS5POCL04XyDLls=" href="#">MOOC大学 </a>
</div>
<div class="head"><div class="h-title">影视平台</div><div class="h-note">主流视频入口</div></div>
<div class="grid">
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMqEixi7LE9gQ==" href="#">腾讯视频</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9q6M7lTUSPnyv" href="#">爱奇艺</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9u70nhykSPnyv" href="#">优酷</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9oLs-hT5VMXrssT2B" href="#">哔哩哔哩</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9r7UmmnJfMn4=" href="#">芒果TV</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMoSnNgrbonwj9TMA==" href="#">搜狐视频</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9sqImmnJfMn4=" href="#">PPTV</a>
</div>
<div class="head"><div class="h-title">短视频平台</div><div class="h-note">分发与增长</div></div>
<div class="grid">
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9pr0nlTVSc3Ctvw==" href="#">抖音</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9qaczhS9UMmbssT2B" href="#">快手</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9urszgzRTM3SxuifCP1Mw" href="#">小红书</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9oLs-hT5VMXrssT2B" href="#">B站</a>
<a class="tile" data-tier="devil" data-tier-label="恶魔" data-u="NEgpY7HofcMrSyo9u70nmCleOD2hvT_D" href="#">YouTube</a>
</div>
<div class="head"><div class="h-title">创作者中心</div><div class="h-note">账号运营</div></div>
<div class="grid">
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9pr0nlTVSc3Ctvw==" href="#">抖音创作者中心</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcM_VDx9rLc-n3JLOHq6uzzCLU1zcK2_" href="#">视频号助手</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9urszgzRTM3SxuifCP1Mw" href="#">小红书创作服务平台</a>
<a class="tile" data-tier="angel" data-tier-label="天使" data-u="NEgpY7HofcMrSyo9qaczhS9UMmbssT2B" href="#">快手创作者服务平台</a>
</div>
<div class="global-declare-tip" style="margin:14px 0 6px 0;color:#64748b;font-size:12px;line-height:1.6;text-align:center;">声明：本平台仅供内部学习与交流使用，严禁外传或用于任何商业用途。违者必究。</div></section>
<!-- 资源中心（全部天使公开） -->
<section class="section" hidden="" id="resources" role="tabpanel">
<div class="head">
<div class="h-title">资源中心</div>
<div class="h-note">以下为全部资源（已设为天使级公开）。支持关键词过滤。</div>
</div>
<div class="panel">
<div class="search" style="margin-bottom:10px">
<input id="resSearch" oninput="filterRes()" placeholder="搜：安卓 / 剪辑 / 激活 / AI / 无水印…"/>
<button onclick="filterRes()">筛选</button>
</div>
<ul class="resource-list" id="resList">
<!-- 从原文件复制的 1~64 列表，保持一致 -->
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcM9TC0987Q9g3JfMn7tuzyfKF0xf-3jYq0YCWs=" href="#">1. 边界AI</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3eaQ44dvrgMN5rWWUw7b47nygTLnujoDc=" href="#">2. 科技插件</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2OPw08cPSzZI46Cz4w7b47nygTLnujoDc=" href="#">3. 安卓软件</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2OOV1scaS3Y99tDW0w7b47nygTLnujoDc=" href="#">4. 摄影剪辑</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2Jaw9oIvDgY9hkWGsw7b47nygTLnujoDc=" href="#">5. 媒体运营</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UPgw-IvGwMN5lX2Q=" href="#">6. 去马赛克</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcM7VSl7t7B8jzNRciT762HYbg9lIe2_PYo9Ey92rrcznzlPcnetpTyAM105PLTjfNxyDXJSi_wznDc=" href="#">7. 本站有APP方便进入</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcM3WDJwsfwxgnNQcnCunjCtJFYkWKGwIA==" href="#">8. 短剧百度搜索</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3fbllvdqe0YdttD24=" href="#">9. 当众说话</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2OOF1pJ_q0YIk4Cjw=" href="#">10. 情绪自救课（含训练营）</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3ebVhocvHgMd1sDGsw7b47nygTLnujoDc=" href="#">11. Deepseek保姆喂饭级使用技巧大全</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2Ibg5sKvrkMYhoWD4=" href="#">12. 小H书资源账号采集器(独家版)</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3abQk8JffgYYk5BG8=" href="#">13. TV软件专区(去除收费版)</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UbQpsK_awMdRuBGo=" href="#">14. 11款可用磁力软件(资源不限速)</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3ZOgtuJqGzY90-D2g=" href="#">15. [win]数据免费恢复软件x64</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3fZQ4_IaOxYtg9CGU=" href="#">16. 1DM中文版下载利器</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3Zbw1uK_vjY4hrDm8=" href="#">17. 美图秀秀(高级版，已解所有功能)</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3aOF44Kvfgat45DD8=" href="#">18. 短视频-键搬运（会员解锁版.apk）</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2KbVllJPvkato_Dms=" href="#">19. 虚拟机</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3dbl04I6fmZI9tXTg=" href="#">20. 音乐软件</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UaQltKqbrZNxuWW8=" href="#">21. 下载工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3dbg87JPW2Z4k6XWk=" href="#">22. 学习软件</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2POQxkcaDmN95vCzs=" href="#">23. 系统相关</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UOg44I_vhNolsCWw=" href="#">24. 热门AI工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3VOFplKqfkZt0-BG8=" href="#">25. 语音转文字合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2JOF85JaGzYY4-CDg=" href="#">26. PPT模板大全</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2ObF1uJKPhMNVvXm0=" href="#">27. 冷门实用合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UPlk4cqPmYtVlCjg=" href="#">28. 喜马拉雅音频课</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3cOgVuIvbma9hoXm8=" href="#">29. PDF全能工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3faghpcqPjNts9WmQ=" href="#">30. AI工具合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3fawQ_K6O3ZdluXjk=" href="#">31. 搜题神器包</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3cagxpI6PgYNg5Cm4=" href="#">32. 免费K歌神器</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3ebllkdaPhYt1rDm4=" href="#">33. 酷狗概念版</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3cbQo8d_LiYY5sCj8=" href="#">34. 剪映魔法版</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3cPl08I_OxZo9sXmw=" href="#">35. 格式转换合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3ZOA45JKPjY4hqWWk=" href="#">36. 数据恢复工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3bbA1vI6TkatlsWWs=" href="#">37. B站优质UP主视频合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3eago_dqHqMNptCzk=" href="#">38. 零基础学唱歌（完结）</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2POQlqcqPhao1qDjs=" href="#">39. 沟通高手训练手册</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2JOlhuJqfka4huDjk=" href="#">40. 古代野史珍藏集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2OPwpqcabkZNg-WDs=" href="#">41. 清华附小《妙解成语》动画全集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2KPgpqcaDqMdU_Dmk=" href="#">42. 影响孩子一生的电影合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3bOQhqdfvjN4hqDGQ=" href="#">43. 四季养生食疗课</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3Vbg47cKOwNNo_Wj8=" href="#">44. 自动点击器（免费手机版）</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMrSyo9uKo1hj4SPnyv_SSFOFkyPKa9JYI=" href="#">45. 在线工具宝：视频处理平台</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3fOQtrKvawZdtpWGQ=" href="#">46. 文案设计辅助工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3dbw1uJvqzYtRrBW0=" href="#">47. 批量无水印短视频下载器</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2JOllkd_HmY9s-WGQ=" href="#">48. AI APK应用大全</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3fZAhrJqHnZ446DG0=" href="#">49. 多格式媒体处理工具箱</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3dbVpkdffmM9VsC2Q=" href="#">50. 资源整合</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9oLM7iCkSPnyv_SHDbVs-IaamIN5pcTNai70m3QtPNXermTXTLEs5LrDqY4o=" href="#">51. 语聊音频变声器</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2PZF1rJqazN4puDz8w7b47nygTLnujoDc=" href="#">52. 每日更新软件</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9uqc8gDlVc3Ctv32fc2oSRfSCOJU4DhtnqaImpw5IG3aY5yGoLH1sLLKlNtEvBDxi" href="#">53. C盘系统清理</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3Ual9tJvPnMN44Dzkw7b47nygTLnujoDc=" href="#">54. Win10-11激活永久工具</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2NZA9qI6PgN9lqX28w7b47nygTLnujoDc=" href="#">55. 自动生成专属AI数字人</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3eOFppIfXrM9w_Djk=" href="#">56. 个性签名生成器</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2JbF9lJvKwNIlrXTk=" href="#">57. 人像摄影课程</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3bPgtkdvrgYd4_Xjg=" href="#">58. 30款永久VIP软件合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2IPg84KvDmYtpvBG4=" href="#">59. 32款自媒体免费必备APP</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3UPwhuKvC3Z4o4Djg=" href="#">60. 万能WiFi直连版</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX3YZQppcPHnY9o6Czw=" href="#">61. 变声器语音包大师</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2OawRlIfu0MYlsD20=" href="#">62. 网易云音乐解锁版</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9s6cznjcSPn3toX2KZF87dfvnMNhoBGk=" href="#">63. 小吃教程合集</a></li>
<li class="res" data-tier="angel" data-tier-label="天使"><a data-u="NEgpY7HofcMsXTM9uqc8gDlVc3Ctv32fc2oSRaeVMKRrZDQh9qpg2AsOJELy5ySgJX1sLLKlNtFkSWog" href="#">64. 打工人桌面壁纸</a></li>
</ul>
<div id="noTip" style="display:none;color:var(--muted);text-align:center;padding:10px">没有找到相关资源～</div>
</div>
<div class="global-declare-tip" style="margin:14px 0 6px 0;color:#64748b;font-size:12px;line-height:1.6;text-align:center;">声明：本平台仅供内部学习与交流使用，严禁外传或用于任何商业用途。违者必究。</div></section>
<!-- 我的 -->
<section class="section" hidden="" id="mine" role="tabpanel">
<div class="head"><div class="h-title">我的账号</div><div class="h-note">仅本地显示</div></div>
<ul class="resource-list" id="mineRes">
<li class="res"><a href="javascript:void(0)" onclick="copyWeChat()">联系站长微信</a></li>
<li class="res"><a href="javascript:void(0)" onclick="copyPC()">PC端入口复制</a></li>
<li class="res"><a href="javascript:void(0)" onclick="clearAllData()">清空本地数据（回到初次访问）</a></li>
</ul>
<div class="global-declare-tip" style="margin:14px 0 6px 0;color:#64748b;font-size:12px;line-height:1.6;text-align:center;">声明：本平台仅供内部学习与交流使用，严禁外传或用于任何商业用途。违者必究。</div></section>
</div>
<!-- 底部导航 -->
<nav class="nav">
<a class="cur" data-tab="home" href="#">首页</a>
<a data-tab="videos" href="#">平台</a>
<a data-tab="resources" href="#">资源</a>
<a data-tab="mine" href="#">我的</a>
</nav>
<div class="toast" id="toast"></div>
<script>
// ===== 渐进式封锁机制 =====
function getLockState(){
  const data = JSON.parse(localStorage.getItem('loginLock') || '{"count":0,"until":0}');
  return data;
}
function setLockState(count, until){
  localStorage.setItem('loginLock', JSON.stringify({count:count, until:until}));
}
function checkLock(){
  const st = getLockState();
  const now = Math.floor(Date.now()/1000);
  if(st.until > now){
    const remain = st.until - now;
    toast('已锁定，请等待 ' + remain + ' 秒后再试');
    disableLogin(remain);
    return true;
  }
  return false;
}
function disableLogin(sec){
  const btn = document.getElementById('login');
  if(!btn) return;
  btn.disabled = true;
  let left = sec;
  btn.textContent = '等待 ' + left + ' 秒';
  const t = setInterval(()=>{
    left--;
    if(left <= 0){
      clearInterval(t);
      btn.disabled = false;
      btn.textContent = '登录';
    }else{
      btn.textContent = '等待 ' + left + ' 秒';
    }
  },1000);
}

function recordFailure(){
  const st = getLockState();
  st.count++;
  let lockSec = 0;
  if(st.count >= 30) lockSec = 3*24*60*60; // 3天
  else if(st.count >= 20) lockSec = 20*60; // 20分钟
  else if(st.count >= 10) lockSec = 10*60; // 10分钟
  else if(st.count >= 3)  lockSec = 10;    // 10秒
  if(lockSec > 0){
    st.until = Math.floor(Date.now()/1000) + lockSec;
    toast('多次错误，已锁定 ' + lockSec + ' 秒');
    disableLogin(lockSec);
  }
  setLockState(st.count, st.until);
}

function resetFailure(){
  setLockState(0, 0);
}


const LEVELS = { angel: 0, devil: 1 };
const NAMES  = { 0: "天使账号", 1: "恶魔账号" };
const PASS   = { angel: "", devil: "520131419" };

const state = { lv: Number(localStorage.getItem('lv') ?? 0) };

function setLv(n){
  state.lv = n;
  localStorage.setItem('lv', String(n));
  document.getElementById('lv').textContent = NAMES[n] + "（当前）";
  var _lvName=document.getElementById('lvName'); if(_lvName){ _lvName.textContent = NAMES[n]; }
  document.getElementById('logout').style.display = n>0 ? 'inline-block' : 'none';
  applyLocks();
}

document.getElementById('login').addEventListener('click',()=>{
  if(checkLock()) return;
  const v = (document.getElementById('pwd').value || '').trim();
  if(!v){ toast('请输入口令'); return; }
  if(v === PASS.angel){ setLv(0); toast('已登录：天使账号'); resetFailure(); }
  else if(v === PASS.devil){ setLv(1); toast('已登录：恶魔账号'); resetFailure(); }
  else { setLv(0); toast('口令不正确，已回到天使账号'); recordFailure(); }
  document.getElementById('pwd').value='';
});

document.getElementById('logout').addEventListener('click',()=>{
  setLv(0);
  toast('已退出，回到天使账号');
});

function applyLocks(){
  document.querySelectorAll('[data-tier]').forEach(el=>{
    const need = el.getAttribute('data-tier') === 'devil' ? 1 : 0;
    const ok = state.lv >= need;
    el.classList.remove('locked');
    const a = el.tagName==='A' ? el : el.querySelector('a');
    if(!ok){
      el.classList.add('locked');
      if(a) a.addEventListener('click', blockClick, true);
    }else{
      if(a) a.removeEventListener('click', blockClick, true);
    }
  });
}

function blockClick(e){
  e.preventDefault();
  toast('此内容需要 恶魔账号');
  try{ window.scrollTo({top:0, behavior:'smooth'}); const inp = document.getElementById('pwd'); if(inp) inp.focus(); }catch(_){}
}

const tabs = document.querySelectorAll('.nav a');
const panes = ['home','videos','resources','mine'].map(id=>document.getElementById(id));

tabs.forEach(btn=>btn.addEventListener('click',e=>{
  e.preventDefault();
  tabs.forEach(b=>b.classList.remove('cur'));
  btn.classList.add('cur');
  panes.forEach(p=>p.hidden = p.id !== btn.dataset.tab);
  window.scrollTo({ top:0, behavior:'smooth' });
  if(btn.dataset.tab === 'resources'){
    const inp = document.getElementById('resSearch');
    if(inp) inp.focus();
  }
}));

function filterRes(){
  const q = (document.getElementById('resSearch').value || '').toLowerCase();
  const items = document.querySelectorAll('#resList .res');
  let show = 0;
  items.forEach(li=>{
    const txt = li.textContent.toLowerCase();
    const hit = txt.includes(q);
    li.style.display = hit ? '' : 'none';
    if(hit) show++;
  });
  const tip = document.getElementById('noTip');
  if(tip) tip.style.display = show ? 'none' : 'block';
  applyLocks();
}


// ===== 即时高质感 Toast（可打断、无排队） =====
let __toastTimer = 0;
function toast(msg, opts) {
  const t = document.getElementById('toast');
  if(!t) return;
  const dur = Math.max(800, (opts && opts.duration) ? Number(opts.duration) : 1800);
  clearTimeout(__toastTimer);
  t.textContent = String(msg);
  t.classList.remove('show');
  // 回流以重启动画
  void t.offsetWidth;
  t.classList.add('show');
  __toastTimer = setTimeout(()=>{
    t.classList.remove('show');
  }, dur);
}

// 通用复制到剪贴板（含降级与提示）
async function copyText(text, okMsg, failMsg){
  try{
    if(navigator.clipboard && window.isSecureContext){
      await navigator.clipboard.writeText(String(text));
    }else{
      // 降级：使用临时 textarea 选中复制
      const ta = document.createElement('textarea');
      ta.value = String(text);
      ta.style.position = 'fixed';
      ta.style.top = '-9999px';
      document.body.appendChild(ta);
      ta.focus(); ta.select();
      const ok = document.execCommand('copy');
      ta.remove();
      if(!ok) throw new Error('execCommand failed');
    }
    toast(okMsg || '已复制');
  }catch(e){
    console.warn('复制失败：', e);
    try{
      // 最后兜底：弹窗给用户长按复制（移动端）
      alert((failMsg || '复制失败，请手动复制') + '\n\n' + String(text));
    }catch(_) {}
    toast(failMsg || '复制失败，请手动复制');
  }
}

// 复制站长微信（不直接展示微信号，点击即可复制）
function copyWeChat(){
  copyText('Y613148639391', '微信号已复制', '复制失败，请手动复制');
}

function copyPC(){
  navigator.clipboard.writeText(location.href).then(()=>toast('PC 入口已复制'));
}

document.addEventListener('DOMContentLoaded',()=>{
  setLv(state.lv || 0);
  applyLocks();
});


// 整块点击：资源列表 <li.res> 点击任意空白都打开内部链接
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('#resList .res').forEach(li => {
    const a = li.querySelector('a');
    if(!a) return;
    li.addEventListener('click', (e) => { e.stopPropagation();
      // 如果是点到 <a> 自己，就让默认行为执行；否则整块打开
      if(e.target.tagName === 'A') return;
      // 锁定的禁止
      if(li.classList.contains('locked')){ blockClick.call(li, e); return; }
      window.location.href = a.href;
    });
  });
  // 栅格卡片（.tile）已经是 <a>，但为了兼容空白内边距，补一个 click 代理
  document.querySelectorAll('.grid .tile').forEach(el => {
    // 有可能是 <a> 或非 <a>
    if(el.tagName === 'A'){
      // 补充：点击内部空白与子元素都触发 a
      el.addEventListener('click', (e) => {
        // 默认就行，这里确保有手型和 hover
      });
    }else{
      const a = el.querySelector('a');
      if(!a) return;
      el.addEventListener('click', (e) => {
        if(el.classList.contains('locked')){ blockClick.call(el, e); return; }
        window.location.href = a.href;
      });
    }
  });
});


/** ===== 防盗功能（前端增强） ===== */
/* 1) 链接解码：XOR + base64，SALT 写入页面 */
const PROTECT_SALT = Uint8Array.from(atob("XDxdE8LSUuw="), c=>c.charCodeAt(0));
function xorDecode(base64str) {
  const bin = Uint8Array.from(atob(base64str.replace(/-/g,'+').replace(/_/g,'/')), c=>c.charCodeAt(0));
  const out = bin.map((b,i)=> b ^ PROTECT_SALT[i % PROTECT_SALT.length]);
  return new TextDecoder().decode(out);
}
function openProtected(el) {
  const enc = el.getAttribute('data-u');
  if(!enc) return;
  const url = xorDecode(enc);
  window.location.href = url;
}

/* 2) 将资源与卡片整块点击（并使用受保护链接） */
document.addEventListener('DOMContentLoaded', () => {
  // 资源列表整块
  document.querySelectorAll('#resList .res').forEach(li => {
    const a = li.querySelector('a[data-u]');
    if(!a) return;
    li.addEventListener('click', (e) => { e.stopPropagation();
      if(li.classList.contains('locked')){ blockClick.call(li, e); return; }
      if(e.target.tagName==='A'){ e.preventDefault(); }
      openProtected(a);
    });
    // 防止右键复制链接
    a.addEventListener('contextmenu', e=> e.preventDefault());
  });
  // 栅格卡片
  document.querySelectorAll('.grid a[data-u]').forEach(a=>{
    const card = a; // 本身就是 a
    card.addEventListener('click',(e)=>{ e.preventDefault(); e.stopPropagation();
      e.preventDefault();
      const host = card.closest('[data-tier]');
      if(host && host.classList.contains('locked')){ blockClick.call(host, e); return; }
      openProtected(card);
    });
    card.addEventListener('contextmenu', e=> e.preventDefault());
  });
});

/* 3) 防拷贝/防右键/防拖拽（输入框除外） */
function isInEditable(el){ return !!el.closest('input,textarea,[contenteditable="true"]'); }
document.addEventListener('contextmenu',e=>{ if(!isInEditable(e.target)) e.preventDefault(); });
['copy','cut','paste','selectstart','dragstart'].forEach(evt=>{
  document.addEventListener(evt, e=>{ if(!isInEditable(e.target)) e.preventDefault(); }, true);
});

/* 4) 简易开发者工具侦测：打开时模糊资源区，关闭恢复 */
(function devtoolsGuard(){
  let blurApplied = false;
  function applyBlur(on) {
    document.querySelectorAll('.panel, .resource-list, .grid').forEach(el=>{
      el.classList.toggle('protect-blur', on);
    });
    if(on) toast('为安全已隐藏资源，关闭开发者工具后恢复');
  }
  setInterval(()=>{
    const threshold = 160; // 大概判断
    const opened = (window.outerWidth - window.innerWidth > threshold) ||
                   (window.outerHeight - window.innerHeight > threshold);
    if(opened && !blurApplied){ blurApplied=true; applyBlur(true); }
    if(!opened && blurApplied){ blurApplied=false; applyBlur(false); }
  }, 700);
})();

/* 5) 全局水印：UID + 时间戳（截图可追溯） */
(function watermark(){
  const id = localStorage.getItem('uid') || (()=>{const s=Math.random().toString(36).slice(2,8);localStorage.setItem('uid',s);return s;})();
  const cvs = document.createElement('canvas');
  cvs.width=380; cvs.height=160;
  const ctx = cvs.getContext('2d');
  ctx.clearRect(0,0,cvs.width,cvs.height);
  ctx.globalAlpha = 0.18;
  ctx.translate(0,0);
  ctx.rotate(-Math.PI/8);
  ctx.font = 'bold 18px Inter, sans-serif';
  ctx.fillStyle = '#0f172a';
  const text = '内部使用 · 禁止外传 · UID:'+id+' · '+new Date().toLocaleString();
  ctx.fillText(text, 20, 100);
  if(localStorage.getItem('wmOff')!=='1'){
  const overlay = document.createElement('div');
  overlay.className = 'protect-overlay';
  overlay.style.backgroundImage = 'url('+cvs.toDataURL('image/png')+')';
  document.body.appendChild(overlay);
}
})();

/* 6) 反 iframe 嵌套（点击劫持） */
try{ if(self!==top) top.location = self.location; }catch(err){}

/* 7) 禁止键盘常见导出（Ctrl+S / Ctrl+U / F12 等）— 可绕过，但能阻挡一部分人 */
document.addEventListener('keydown', (e)=>{
  if(isInEditable(e.target)) return;
  const k = e.key.toLowerCase();
  if((e.ctrlKey||e.metaKey) && (k==='s' || k==='u' || k==='p' || k==='c' || k==='a')) { e.preventDefault(); toast('已禁止快捷键复制/保存'); }
  if(k==='f12'){ e.preventDefault(); toast('已禁止打开开发者工具'); }
});


// 回车触发登录
const pwdInput = document.getElementById('pwd');
if(pwdInput){
  pwdInput.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter'){
      document.getElementById('login').click();
    }
  });
}


// 修复：资源区 <a> 自身点击不再触发默认 "#/回到首页"，而是打开受保护链接
document.addEventListener('DOMContentLoaded', () => {
  document.querySelectorAll('#resList .res a[data-u]').forEach(a => {
    // 把 href 改为 void(0) 彻底去除默认跳转
    a.setAttribute('href', 'javascript:void(0)');
    a.removeAttribute('target');
    a.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();
      const host = a.closest('.res');
      if(host && host.classList.contains('locked')) { blockClick.call(host, e); return; }
      openProtected(a);
    });
  });
});


// 简单节流器
function throttle(fn, interval){
  let last = 0;
  return function(...args){
    const now = Date.now();
    if(now - last >= interval){
      last = now; fn.apply(this, args);
    }
  }
}



// 右键被禁用时也给出提示（每 2 秒最多提示一次）
const toastRightClick = throttle(()=>toast('已禁用右键'), 2000);
document.addEventListener('contextmenu', (e)=>{
  const isEditable = !!e.target.closest('input,textarea,[contenteditable="true"]');
  if(localStorage.getItem('rcAllow')==='1') return; 
  if(!isEditable){ toastRightClick(); }
}, true);



// 进入“我的”页时，将下载链接应用防护编码
document.addEventListener('DOMContentLoaded', ()=>{
  const a = document.querySelector('#mineRes a[href^="https://github.com/"]');
  if(a && typeof PROTECT_SALT !== 'undefined'){
    // 运行时按与 protect_href 相同的逻辑进行编码
    const raw = new TextEncoder().encode(a.getAttribute('href'));
    const out = raw.map((b,i)=> b ^ PROTECT_SALT[i % PROTECT_SALT.length]);
    const b64 = btoa(String.fromCharCode(...out)).replace(/\+/g,'-').replace(/\//g,'_').replace(/=+$/,'');
    a.setAttribute('data-u', b64);
    a.setAttribute('href', 'javascript:void(0)');
    a.addEventListener('click', (e)=>{
      e.preventDefault(); e.stopPropagation();
      openProtected(a);
    }, true);
  }
});


function clearLocalData(){
  try{
    localStorage.removeItem('lv');
    localStorage.removeItem('uid');
    localStorage.removeItem('loginLock');
    localStorage.removeItem('wmOff');
    localStorage.removeItem('rcAllow');
    toast('已清空：登录等级/UID/锁定/水印/右键设置');
  }catch(_){};
}

function toggleWatermark(){
  const off = localStorage.getItem('wmOff')==='1';
  if(off){
    localStorage.setItem('wmOff','0');
    // 如果没有 overlay 就生成
    if(!document.querySelector('.protect-overlay')){
      (function(){ 
        const cvs = document.createElement('canvas');
        cvs.width=380; cvs.height=160;
        const ctx = cvs.getContext('2d');
        ctx.globalAlpha = 0.18;
        ctx.rotate(-Math.PI/8);
        ctx.font = 'bold 18px Inter, sans-serif';
        ctx.fillStyle = '#0f172a';
        const id = localStorage.getItem('uid') || Math.random().toString(36).slice(2,8);
        ctx.fillText('内部使用 · 禁止外传 · UID:'+id+' · '+new Date().toLocaleString(), 20, 100);
        const overlay = document.createElement('div');
        overlay.className = 'protect-overlay';
        overlay.style.backgroundImage = 'url('+cvs.toDataURL('image/png')+')';
        document.body.appendChild(overlay);
      })();
    }else{
      document.querySelector('.protect-overlay').style.display='block';
    }
    toast('水印：已开启');
  }else{
    localStorage.setItem('wmOff','1');
    const ov = document.querySelector('.protect-overlay');
    if(ov) ov.style.display='none';
    toast('水印：已关闭');
  }
}

function toggleRightClick(){
  const allow = localStorage.getItem('rcAllow')==='1';
  localStorage.setItem('rcAllow', allow ? '0' : '1');
  toast('右键：' + (allow ? '已关闭' : '已开启'));
}








var toastTimeout;
function safeToast(msg){
  // 统一到顶层 toast，支持可打断/立即刷新
  try{ toast(String(msg)); }catch(_){ /* 忽略 */ }
}

/* 一键清空所有本地数据：回到第一次打开的样子 */
async function clearAllData(){
  try{ toast('正在清空本地数据…'); }catch(_){}
  try{
    // 1) 本地存储
    try{ localStorage.clear(); }catch(_){}
    try{ sessionStorage.clear(); }catch(_){}
    // 2) IndexedDB
    try{
      if('databases' in indexedDB){
        const dbs = await indexedDB.databases();
        if(Array.isArray(dbs)){
          await Promise.all(dbs.map(d=>{ try{ indexedDB.deleteDatabase(d.name); }catch(_){}}));
        }
      }else{
        // 删除常用库名（兜底）
        ['keyval-store','idb-keyval','localforage','workbox-expiration'].forEach(n=>{ try{ indexedDB.deleteDatabase(n); }catch(_){} });
      }
    }catch(_){}
    // 3) Cache Storage / Service Worker
    try{
      if('caches' in window){
        const keys = await caches.keys();
        await Promise.all(keys.map(k=>caches.delete(k)));
      }
      if('serviceWorker' in navigator){
        const regs = await navigator.serviceWorker.getRegistrations();
        await Promise.all(regs.map(r=>r.unregister()));
      }
    }catch(_){}
    // 4) Cookie（若有）
    try{
      document.cookie.split(';').forEach(c=>{
        const eq = c.indexOf('=');
        const name = (eq> -1 ? c.substr(0, eq) : c).trim();
        if(name){
          document.cookie = name + '=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/';
        }
      });
    }catch(_){}
  }catch(_){}
  try{ toast('已清空，本页将自动刷新'); }catch(_){}
  setTimeout(()=>{ try{ location.reload(true); }catch(_){ location.reload(); } }, 800);
}

</script>
</body>
</html>
